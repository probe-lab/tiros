otelcol.receiver.otlp "otlp_receiver" {
	grpc {
		endpoint = "0.0.0.0:4317"
	}

	output {
		traces = [otelcol.exporter.otlp.grafanacloud.input]
	}
}

otelcol.exporter.otlp "grafanacloud" {
	client {
		endpoint = "tempo-prod-10-prod-eu-west-2.grafana.net:443"
		auth     = otelcol.auth.basic.grafanacloud.handler
	}
}

otelcol.auth.basic "grafanacloud" {
	username = sys.env("GRAFANA_CLOUD_USERNAME")
	password = sys.env("GRAFANA_CLOUD_PASSWORD")
}
